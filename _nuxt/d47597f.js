(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{472:function(t,e,n){var content=n(473);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("31ac193a",content,!0,{sourceMap:!1})},473:function(t,e,n){var o=n(22)(!1);o.push([t.i,'html{font-size:20px}body{background:#ececec;position:relative;overflow:hidden}#__layout>div,#__layout>div>div{position:relative;height:100%}.top-button-box{position:fixed;top:.3rem;left:.5rem;z-index:5}.warpper{position:fixed;top:0;bottom:0;left:0;right:0;background:rgba(41,77,255,.9);z-index:6}.warpper>span{display:block;font-size:2rem;left:50%;transform:translate(-50%,-50%)}.warpper>span,.warpper>strong{position:absolute;font-weight:700;color:#fff;text-align:center;line-height:1.3;top:50%}.warpper>strong{font-size:5rem;width:100%;left:0;transform:translateY(-50%)}.pad-login-box{width:30rem;text-align:center;position:fixed;height:22rem;left:50%;top:50%;margin:-12rem 0 0 -14rem}.pad-login-box .title{color:#fff;font-size:2.5rem;font-weight:700}.pad-login-box .select-role{margin-top:3rem}.pad-login-box .select-role div{background:#fff;color:#4177ff;text-align:center;font-weight:700;border-radius:.3rem;line-height:3rem;font-size:1.2rem;width:50%;margin:0 auto 2rem}.pad-login-box .select-role div:active{background:#eee}.pad-login-inner{width:70%;margin:3rem auto 0}.pad-login-inner .role-title{color:#fff;text-align:center;font-size:1.5rem;line-height:2rem;font-weight:700;position:relative}.pad-login-inner .role-title:before{left:1rem}.pad-login-inner .role-title:after,.pad-login-inner .role-title:before{content:"";position:absolute;width:10%;height:.1rem;background:#fff;top:50%}.pad-login-inner .role-title:after{right:1rem}.pad-login-form{background:#fff;border-radius:.3rem;padding:1.2rem 2rem 1rem;margin-top:1.5rem}.pad-login-form .form-item{padding-bottom:1rem;padding-left:2.5rem;position:relative}.pad-login-form .form-item .iconfont{position:absolute;top:.4rem;left:.1rem;font-size:1.5rem;color:#4177ff}.pad-login-form .el-input__inner{outline:none;border-radius:0;border:none;border-bottom:.1rem solid #a7c0fe;color:#4177ff;font-size:1rem;height:2rem}.pad-login-form .button{background:#3e75fa;text-align:center;line-height:2rem;border-radius:1rem;color:#fff;cursor:pointer}.pad-login-form .button:hover{background:#5c94fb}.exam-box{background:#fff;position:absolute;left:1rem;right:1rem;top:1rem;bottom:1rem;overflow:auto;padding:0 2rem;text-align:center}.exam-box .lab-info{overflow:hidden;line-height:3rem;text-align:center;font-size:1.1rem;font-weight:700}.exam-box .table-info{margin-top:1.2rem;padding:0 .5rem}.exam-box .table-info span{margin-bottom:1rem;font-size:2.2rem;text-align:center;line-height:2.6rem;font-weight:700;display:block}.examinee-info{position:relative;overflow:hidden;padding:1rem 0;display:inline-block;text-align:left}.examinee-info>div{display:table-cell;height:16rem;vertical-align:middle}.examinee-info img{float:left;height:16rem;margin-right:2rem;display:block}.examinee-info span{display:block;font-weight:700;font-size:1.8rem;line-height:5rem}.pad-testing .exam-box .lab-info,.pad-testing .exam-box .table-info,.pad-testing .examinee-info{display:none}.pad-testing .examinee-info>div{height:6rem}.pad-testing .examinee-info img{width:4.5rem;height:6rem;margin-right:1rem}.pad-testing .examinee-info span{font-size:.9rem;line-height:1.8rem}.before-exam span{font-size:3rem;font-weight:700;line-height:5rem}.lamp{position:absolute;top:2.8rem;right:1rem;height:1rem;width:1rem;background:#f56c6c;border-radius:50%;box-shadow:inset 0 -1px 5px #fff;z-index:9999}.green-light{background:#67c23a}.pad-top{display:none;padding:.5rem 0;line-height:1.2rem;background:#4177ff;z-index:5;position:relative}.pad-top span{color:#fff;font-size:.9rem;display:table-cell;text-align:center;vertical-align:middle;padding:0 .3rem}.pad-title{line-height:2.2rem;background:#fff;font-size:1.2rem;text-align:center;font-weight:700;box-shadow:0 0 .3rem grey;z-index:5;position:relative}.logout-btn{position:absolute;top:0;right:2.2rem;font-size:1rem;font-weight:400;color:#4177ff;padding:0 .5rem;cursor:pointer}.logout-btn:active{color:#3066ee;background:#efefef}.back-btn{position:absolute;top:0;left:0;font-size:2rem;font-weight:400;padding:0 .6rem}.back-btn .iconfont{font-size:inherit}.back-btn:active{color:#3066ee;background:#efefef}.pad-main{position:absolute;top:4.2rem;left:0;bottom:0;right:0}.pad-testing .pad-top{display:table;width:100%}.pad-testing .pad-main{top:5rem}.pad-operation-menu{//text-align:center;margin:1.5rem 0 1rem}.pad-operation-menu .pad-button{display:inline-block;background:#4177ff;color:#fff;font-weight:700;padding:.5rem 5rem;border-radius:.3rem;font-size:1.2rem}.pad-operation-menu .pad-button:active{opacity:.8}@media screen and (min-width:1920px){html{font-size:30px}}@media screen and (max-width:1920px){html{font-size:28px}}@media screen and (max-width:1600px){html{font-size:25px}}@media screen and (max-width:1440px){html{font-size:24px}}@media screen and (max-width:1280px){html{font-size:22px}}@media screen and (max-width:1024px){html{font-size:18px}}@media screen and (max-width:800px){html{font-size:14px}}@media screen and (max-width:600px){html{font-size:12px}}@media screen and (max-width:500px){html{font-size:10px}}',""]),t.exports=o},475:function(t,e,n){var content=n(479);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("59e66703",content,!0,{sourceMap:!1})},478:function(t,e,n){"use strict";n(475)},479:function(t,e,n){var o=n(22)(!1);o.push([t.i,".lab[data-v-c92408a2]{width:100%;height:100%;overflow:auto;padding:0 2rem 1rem}.dais[data-v-c92408a2]{width:20%;line-height:2.5rem;margin:1rem auto;font-size:1rem;text-align:center;background:#fff;border-radius:.3rem}.table-list[data-v-c92408a2]{position:relative;overflow:hidden}.table-list .table[data-v-c92408a2]{float:left;position:relative;text-align:center;background:#fff;border-radius:.3rem;height:9rem;overflow:auto;overflow-x:hidden}.table-list .selected[data-v-c92408a2]{background:red}.table-list .table[data-v-c92408a2]:before{content:attr(table-num);position:absolute;left:0;top:0;width:100%;height:100%;line-height:7rem;font-size:2rem;font-weight:700;color:#fff}.table .table-info[data-v-c92408a2]{position:relative;z-index:2;font-size:.7rem;text-align:left;padding:.4rem;line-height:1.2rem}.table-info .confirm[data-v-c92408a2]{position:absolute;background:#60c424;right:.5rem;top:.4rem;color:#fff;padding:0 .5rem;border-radius:.2rem}.table .status[data-v-c92408a2]{position:absolute;left:0;top:0;width:100%;height:100%;line-height:8rem;font-size:1.2rem;color:#fff;background:#4177ff;background:rgba(41,77,255,.7);z-index:3}.table-list .selected .status[data-v-c92408a2]{display:none}",""]),t.exports=o},480:function(t,e,n){t.exports=n.p+"img/before-exam.8ba48d2.png"},484:function(t,e,n){"use strict";n(117),n(37);var o={mixins:[n(85).a],props:["labInfo","type","toParent","value"],data:function(){return{selectedSeat:"",buttonLoading:!1,seats:[]}},created:function(){this.selectedSeat=this.value?this.value:"",console.log(this.selectedSeat),console.log(this.labInfo),this.fillRoom()},methods:{fillRoom:function(){for(var t="invigilate"===this.type?"未安排考试":"未抽签",e=this.labInfo.seats[0]&&parseInt(this.labInfo.seats[0].code.split("_")[1])<25?1:25,i=0;i<24;i++){if(this.labInfo.seats[i])parseInt(this.labInfo.seats[i].code.split("_")[1])!==i+e&&this.labInfo.seats.splice(i,0,{code:"test_"+(i+e),noStudent:!0,message:t});else this.labInfo.seats.splice(i+1,0,{code:"test_"+(i+e),noStudent:!0,message:t})}this.seats=JSON.parse(JSON.stringify(this.labInfo.seats))},changeSelectedSeat:function(table){"tablePicker"===this.type&&(this.selectedSeat=table)},btnOkClick:function(){this.toParent&&this.toParent(this.selectedSeat)},confrimSetMS:function(t){var e=this;this.confrimInfo={show:!0,isConfrim:!0,handlEvent:function(){e.setMissStudent(t)},title:"提醒",text:"确定要把".concat(t.student.name,"设置成缺考吗？")}},setMissStudent:function(t){var e=this;this.buttonLoading=!0,this.$store.dispatch("pad/SET_MISS",{data:{batchTimeLineId:this.batch&&this.batch.id,seatId:t.id,studentId:t.student.id},cb:function(t){t.succ&&(e.$message.success("操作成功"),e.labInfo.reGet&&e.labInfo.reGet()),e.buttonLoading=!1}})},confirmAddReExam:function(t){var e=this;console.log(t),this.confrimInfo={show:!0,isConfrim:!0,handlEvent:function(){e.addReExam(t)},title:"重考",text:"是否将".concat(t.student.name,"加入重考列表？")}},addReExam:function(t){var e=this;console.log({seatId:t.id,studentId:t.student.id,batchTimeLineId:this.labInfo.batch&&this.labInfo.batch.id}),this.buttonLoading=!0,this.$store.dispatch("pad/SET_RESIT",{data:{seatId:t.id,studentId:t.student.id,batchTimeLineId:this.labInfo.batch&&this.labInfo.batch.id},cb:function(t){t.succ&&(e.$message.success("操作成功"),e.labInfo.reGet&&e.labInfo.reGet()),e.buttonLoading=!1}}),this.confrimInfo.show=!1}}},r=(n(478),n(8)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lab"},[n("div",{staticClass:"dais"},[t._v("讲台")]),t._v(" "),n("div",{staticClass:"table-list"},t._l(t.seats,(function(e,o){return n("div",{key:o,staticClass:"table",class:{selected:t.selectedSeat.id===e.id&&"tablePicker"===t.type},style:{width:90/t.labInfo.colNum+"%",margin:"0.5rem "+5/t.labInfo.colNum+"%"},attrs:{"table-num":e.code},on:{click:function(n){return t.changeSelectedSeat(e)}}},["tablePicker"===t.type||"2"==e.isConfirmed||"0"!=e.isConfirmed&&t.labInfo.status>2||"0"===e.doneTest||"0"===e.isResit||e.noStudent?t._e():n("div",{staticClass:"table-info"},[t._v("\n          座位号："+t._s(e.code&&e.code.split("_")[1])),n("br"),t._v(" "),"invigilate"===t.type?n("div",["0"!=e.isReady?n("el-tag",{attrs:{type:"info"}},[t._v("器材准备未完成")]):t._e(),t._v(" "),"0"===e.isReady?n("el-tag",{attrs:{type:"success"}},[t._v("器材准备已完成")]):t._e(),t._v(" "),e.student&&"0"!=e.isConfirmed?n("el-tag",{attrs:{type:"info"}},[t._v("未签到")]):t._e(),t._v(" "),e.student&&"0"===e.isConfirmed?n("el-tag",{attrs:{type:"success"}},[t._v("已签到")]):t._e()],1):t._e(),t._v("\n          考试内容："+t._s(e.exmPaper&&e.exmPaper.examName)),n("br"),t._v("\n          考生姓名："+t._s(e.student&&e.student.name)),n("br"),t._v("\n          准考证号："+t._s(e.student&&e.student.ticketCard)+"\n          "),n("br"),t._v(" "),"invigilate"===t.type?n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.buttonLoading,expression:"buttonLoading"}],attrs:{type:"danger",size:"small"},on:{click:function(n){return t.confirmAddReExam(e)}}},[t._v("重考")]):t._e(),t._v(" "),"invigilate"===t.type&&"0"!=e.isConfirmed?n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.buttonLoading,expression:"buttonLoading"}],attrs:{type:"danger",size:"small"},on:{click:function(n){return t.confrimSetMS(e)}}},[t._v("缺考")]):t._e()],1),t._v(" "),"tablePicker"===t.type&&"0"===e.isBind?n("div",{staticClass:"status"},[t._v("已绑定")]):t._e(),t._v(" "),"tablePicker"!=t.type&&("2"==e.isConfirmed||"0"!=e.isConfirmed&&t.labInfo.status>2)?n("div",{staticClass:"status",staticStyle:{background:"#a8a8a8"}},[t._v("缺考")]):t._e(),t._v(" "),"invigilate"===t.type&&e.student&&"0"===e.doneTest?n("div",{staticClass:"status"},[t._v("\n          已交卷\n          "),"invigilate"===t.type?n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.buttonLoading,expression:"buttonLoading"}],staticStyle:{position:"absolute",left:"10px",top:"10px"},attrs:{type:"danger",size:"small"},on:{click:function(n){return t.confirmAddReExam(e)}}},[t._v("重考")]):t._e()],1):t._e(),t._v(" "),e.noStudent?n("div",{staticClass:"status",staticStyle:{background:"#a8a8a8"}},[t._v(t._s(e.message))]):t._e(),t._v(" "),"invigilate"===t.type&&e.student&&"0"===e.isResit?n("div",{staticClass:"status",staticStyle:{background:"#a8a8a8"}},[t._v("已加入重考")]):t._e()])})),0),t._v(" "),"tablePicker"===t.type?n("div",{staticClass:"pad-operation-menu"},[n("div",{staticClass:"pad-button",on:{click:function(e){return t.btnOkClick()}}},[t._v("确定")])]):t._e(),t._v(" "),n("el-confrim",{attrs:{confrimInfo:t.confrimInfo}})],1)}),[],!1,null,"c92408a2",null);e.a=component.exports},528:function(t,e,n){var content=n(619);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("1b9aec3d",content,!0,{sourceMap:!1})},618:function(t,e,n){"use strict";n(528)},619:function(t,e,n){var o=n(22)(!1);o.push([t.i,".pad-top span[data-v-7e9bd788]{width:25%}",""]),t.exports=o},640:function(t,e,n){"use strict";n.r(e);n(13),n(60),n(61),n(472);var o=n(86),r=n(484),l={mixins:[n(85).a],components:{LabView:r.a},data:function(){return{title:["空闲中","等待实验","等待实验","实验中","实验完毕"],status:-1,labInfo:[],st:null}},created:function(){this.getLabInfo()},mounted:function(){},destroyed:function(){clearTimeout(this.st)},methods:{getLabInfo:function(){var t=this;clearTimeout(this.st),this.st=setTimeout(this.getLabInfo,5e3),this.$store.dispatch("pad/TEACGER_GET_CLOSE_LABINFO",{params:{},cb:function(e){console.log(e),e.succ&&e.data&&(t.labInfo=e.data,t.labInfo.colNum=4,t.status=t.examStatusList.indexOf(e.data.examStatus),t.status=3,3===t.status&&t.startCountDown()),e.data||(t.status=0)}})},startCountDown:function(){var t=this;clearInterval(this.countDown.timer),this.countDown.timer=setInterval((function(){if(t.labInfo.experimentSchedule){var e=(new Date).valueOf(),n=new Date(o.a.dateFtt("yyyy-MM-dd",new Date(t.labInfo.experimentSchedule.planDate))+" "+t.labInfo.experimentSchedule.start).valueOf();t.countDown.timeLimit=parseInt((n-e)/1e3),t.countDown.timeLimit=t.countDown.timeLimit>0?t.countDown.timeLimit:0,0===t.countDown.timeLimit&&clearInterval(t.countDown.timer)}}),500)}},computed:{examDate:function(){return this.labInfo.experimentSchedule?o.a.dateFtt("yyyy-MM-dd",new Date(this.labInfo.experimentSchedule.planDate)):"2000-01-01"},startTime:function(){return this.labInfo.experimentSchedule?this.labInfo.experimentSchedule.start.toString().substr(0,5):"00:00"},endTime:function(){return this.labInfo.experimentSchedule?this.labInfo.experimentSchedule.end.toString().substr(0,5):"00:00"}}},d=(n(618),n(8)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{"pad-testing":3===t.status}},[3===t.status?o("div",{staticClass:"pad-top"},[o("span",[t._v("实验室："+t._s(t.labInfo.name))]),t._v(" "),o("span",[t._v("实验日期："+t._s(t.examDate))]),t._v(" "),o("span",[t._v("实验时间："+t._s(t.startTime)+"-"+t._s(t.endTime))])]):t._e(),t._v(" "),o("div",{staticClass:"pad-title"},[t._v("\n      实验室信息\n      "),o("div",{staticClass:"logout-btn",on:{click:t.confrimLogout}},[t._v("退出登录")])]),t._v(" "),o("div",{staticClass:"pad-main"},[t.status>0?o("lab-view",{attrs:{labInfo:t.labInfo,type:"invigilate"}}):t._e(),t._v(" "),0===t.status?o("div",{staticClass:"exam-box"},[o("div",{staticClass:"before-exam",staticStyle:{display:"table",height:"100%",width:"100%"}},[o("div",{staticStyle:{display:"table-cell",height:"100%","vertical-align":"middle"}},[o("img",{attrs:{src:n(480)}}),o("Br"),t._v(" "),o("span",[t._v("实验室空闲中")])],1)])]):t._e()],1),t._v(" "),10===t.status?o("div",{staticClass:"warpper"},[o("span",[t._v("本次实验已结束")])]):t._e(),t._v(" "),o("el-confrim",{attrs:{confrimInfo:t.confrimInfo}})],1)}),[],!1,null,"7e9bd788",null);e.default=component.exports}}]);