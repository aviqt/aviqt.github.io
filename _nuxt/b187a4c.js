(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{399:function(t,e,n){"use strict";var o=n(6),r=n(34),l=n(41),c=n(231),h=n(80),d=n(14),f=n(59).f,m=n(69).f,v=n(15).f,y=n(400).trim,I="Number",w=o.Number,x=w,C=w.prototype,S=l(n(104)(C))==I,_="trim"in String.prototype,k=function(t){var e=h(t,!1);if("string"==typeof e&&e.length>2){var n,o,r,l=(e=_?e.trim():y(e,3)).charCodeAt(0);if(43===l||45===l){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===l){switch(e.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+e}for(var code,c=e.slice(2),i=0,d=c.length;i<d;i++)if((code=c.charCodeAt(i))<48||code>r)return NaN;return parseInt(c,o)}}return+e};if(!w(" 0o1")||!w("0b1")||w("+0x1")){w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(S?d((function(){C.valueOf.call(n)})):l(n)!=I)?c(new x(k(e)),n,w):k(e)};for(var O,W=n(11)?f(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;W.length>D;D++)r(x,O=W[D])&&!r(w,O)&&v(w,O,m(x,O));w.prototype=C,C.constructor=w,n(23)(o,I,w)}},400:function(t,e,n){var o=n(5),r=n(42),l=n(14),c=n(401),h="["+c+"]",d=RegExp("^"+h+h+"*"),f=RegExp(h+h+"*$"),m=function(t,e,n){var r={},h=l((function(){return!!c[t]()||"​"!="​"[t]()})),d=r[t]=h?e(v):c[t];n&&(r[n]=d),o(o.P+o.F*h,"String",r)},v=m.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(d,"")),2&e&&(t=t.replace(f,"")),t};t.exports=m},401:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},403:function(t,e,n){"use strict";n(54),n(232);var o=n(12),r=n.n(o),l={props:["srcUrl","username","password"],data:function(){return{imgData:""}},mounted:function(){this.getImgData()},destroyed:function(){},methods:{getImgData:function(){var t=this,e=this.srcUrl.replace("http://192.168.1.200:80",""),n=this.username?this.username:"admin",o=this.password?this.password:"123456Aa";r.a.get("/iapi"+e,{auth:{username:n,password:o},responseType:"arraybuffer"}).then((function(t){return"data:image/png;base64,"+btoa(new Uint8Array(t).reduce((function(data,t){return data+String.fromCharCode(t)}),""))})).then((function(data){t.imgData=data}))}},computed:{}},c=(n(541),n(13)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("img",{attrs:{src:t.imgData,alt:""}})}),[],!1,null,"58bd971f",null);e.a=component.exports},442:function(t,e,n){"use strict";n(540),n(399),n(228);var o=n(382),r=n.n(o);e.a={data:function(){return{videoList:[],selectedVideoIndex:3,oWebControl:null,bIE:!!window.ActiveXObject||"ActiveXObject"in window,pubKey:"",initCount:0,playerOp:{cover:!1,appkey:"20802610",secret:"WSMGrCNXVuZbuV9Ib64c",ip:"101.71.159.153",port:9999,snapDir:"D:SnapDir",layout:"1x1",cameraIndexCode:"e817fea9c41b4664a372c16912da5642",startTimeStamp:(new Date).getTime()-36e5,endTimeStamp:(new Date).getTime()}}},mounted:function(){var t=this;window.addEventListener("resize",(function(){t.oWebControl&&(t.playerOp.cover||t.oWebControl.JS_Resize(r()("#playWnd").width(),r()("#playWnd").height()))}))},beforeDestroy:function(){this.uninit()},methods:{setWndCover:function(t){this.oWebControl&&(this.playerOp.cover=t,t||-1===this.selectedVideoIndex?(this.oWebControl.JS_Resize(1,1),r()("#playWnd").hide()):(r()("#playWnd").show(),this.oWebControl.JS_Resize(r()("#playWnd").width(),r()("#playWnd").height())))},initPlugin:function(){var t=this;this.oWebControl&&this.uninit();var e=this;r()("#playWnd").html("<br/>插件启动中，请稍候..."),e.oWebControl=new WebControl({szPluginContainer:"playWnd",iServicePortStart:15900,iServicePortEnd:15909,cbConnectSuccess:function(){e.setCallbacks(),e.oWebControl.JS_StartService("window",{dllPath:"./VideoPluginConnect.dll"}).then((function(){r()("#playWnd").html(" "),e.oWebControl.JS_CreateWnd("playWnd",r()("#playWnd").width(),r()("#playWnd").height()).then((function(){e.oWebControl&&e.getPubKey(e.initPlayer)}))}),(function(){}))},cbConnectError:function(){e.oWebControl=null,r()("#playWnd").html("<br/>插件未启动，正在尝试重新启动，请稍候..."),WebControl.JS_WakeUp("VideoWebPlugin://"),e.initCount++,e.initCount<3?setTimeout((function(){e.initPlugin()}),3e3):(r()("#playWnd").html("<br/>插件启动失败，请检查插件是否安装！"),t.downloadBtnView=!0)},cbConnectClose:function(){console.log("cbConnectClose"),e.oWebControl=null}})},getPubKey:function(t){var e=this;e.oWebControl.JS_RequestInterface({funcName:"getRSAPubKey",argument:JSON.stringify({keyLength:1024})}).then((function(n){n.responseMsg.data&&(e.pubKey=n.responseMsg.data,t())}))},setCallbacks:function(){this.oWebControl.JS_SetWindowControlCallback({cbIntegrationCallBack:this.cbIntegrationCallBack})},cbIntegrationCallBack:function(t){console.log(t.responseMsg)},showCBInfo:function(t){console.log(t,t.responseMsg)},setEncrypt:function(t){var e=new JSEncrypt;return e.setPublicKey(this.pubKey),e.encrypt(t)},initPlayer:function(){var t=this,e=t.playerOp.appkey,n=t.setEncrypt(t.playerOp.secret),o=t.playerOp.ip,r=t.playerOp.port,l=t.playerOp.snapDir,c=t.playerOp.layout,h=["secret"];h=h.join(","),e?n?o?r?/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-5]{2}[0-3][0-5])$/.test(r)?this.oWebControl.JS_RequestInterface({funcName:"init",argument:JSON.stringify({appkey:e,secret:n,ip:o,playMode:1,port:r,snapDir:l,layout:c,enableHTTPS:1,timeBarLevel:6,encryptedFields:h})}).then((function(e){t.viewDoubleVideo?t.viewDoubleVideo():t.startPlayback()})):this.showCBInfo("端口填写有误！","error"):this.showCBInfo("端口不能为空！","error"):this.showCBInfo("ip不能为空！","error"):this.showCBInfo("secret不能为空！","error"):this.showCBInfo("appkey不能为空！","error")},startPlayback:function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;e=e||this.videoIdx+1,this.setWndCover&&this.setWndCover(!1);var r=this.videoList[e-1],l=r.cameraIndex,c=t?new Date(t).getTime():1e3*r.startTimeStamp,h=n?new Date(n).getTime():1e3*r.endTimeStamp,d=0,f=1,m=0;l?Number.isNaN(+c)||Number.isNaN(+h)?this.showCBInfo("时间格式有误！","error"):this.oWebControl.JS_RequestInterface({funcName:"startPlayback",argument:JSON.stringify({cameraIndexCode:l,startTimeStamp:Math.floor(c/1e3)+"",endTimeStamp:Math.floor(h/1e3)+"",recordLocation:d,transMode:f,gpuMode:m,wndId:o})}).then((function(t){console.log(t)})):this.showCBInfo("监控点编号不能为空！","error")},stopAllPlayback:function(){this.oWebControl.JS_RequestInterface({funcName:"stopAllPlayback"}).then((function(t){this.showCBInfo(JSON.stringify(t?t.responseMsg:""))}))},uninit:function(){var t=this;this.oWebControl.JS_RequestInterface({funcName:"uninit"}).then((function(t){console.log(t)})),this.oWebControl.JS_RequestInterface({funcName:"destroyWnd"}).then((function(t){console.log(t)})),this.bIE?null!=this.oWebControl&&this.oWebControl.JS_Disconnect().then((function(){console.log("JS_Disconnect")}),(function(){})):null!=this.oWebControl&&(this.oWebControl.JS_DestroyWnd().then((function(){console.log("JS_DestroyWnd")}),(function(){})),this.oWebControl.JS_StopService("window").then((function(){t.oWebControl.JS_Disconnect().then((function(){console.log("JS_Disconnect")}),(function(){}))})))}}}},443:function(t,e,n){var content=n(542);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("970be750",content,!0,{sourceMap:!1})},444:function(t,e,n){var content=n(544);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("3d02f45a",content,!0,{sourceMap:!1})},445:function(t,e,n){var content=n(546);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("62b56d34",content,!0,{sourceMap:!1})},446:function(t,e,n){var content=n(548);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("0ebfa94c",content,!0,{sourceMap:!1})},455:function(t,e,n){"use strict";n(55),n(28),n(40),n(67),n(68);var o=n(24),r=(n(54),n(403));n(228);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={components:{AuthImg:r.a},props:["imgInfo"],data:function(){return{src:"",imgStyle:{height:""},imgMoveLock:!0,mouseAt:{X:0,Y:0}}},mounted:function(){window.addEventListener("mouseup",this._handleMu),window.addEventListener("keydown",this._handleKd),this.getSrcData()},destroyed:function(){window.removeEventListener("mouseup",this._handleMu),window.removeEventListener("keydown",this._handleKd)},methods:{prePic:function(){this.imgInfo.currentIndex--,this.getSrcData()},nextPic:function(){this.imgInfo.currentIndex++,this.getSrcData()},getSrcData:function(){},handleCancelClick:function(){this.imgInfo.show=!1,this.imgInfo.handlCancleEvent&&this.imgInfo.handlCancleEvent()},_handleKd:function(t){38===t.keyCode&&this.imgInfo.currentIndex>0&&this.imgInfo.currentIndex--,40===t.keyCode&&this.imgInfo.currentIndex<this.imgInfo.picList.length-1&&this.imgInfo.currentIndex++,27===t.keyCode&&this.handleCancelClick()},_handleMd:function(t){this.imgMoveLock=!1,this.mouseAt={X:t.pageX-t.target.offsetLeft,Y:t.pageY-t.target.offsetTop},t.preventDefault()},_handleMu:function(t){this.imgMoveLock=!0,t.preventDefault()},_handleMm:function(t){this.imgMoveLock||(this._initImgStyle(),this.imgStyle.left=t.pageX-this.mouseAt.X+"px",this.imgStyle.top=t.pageY-this.mouseAt.Y+"px",t.preventDefault())},_handleWheel:function(t){this._initImgStyle(),this.imgStyle.height=t.wheelDelta>0?1.1*t.target.height+"px":.9*t.target.height+"px",this.imgStyle.left=t.wheelDelta>0?t.target.offsetLeft-.05*t.target.width+"px":t.target.offsetLeft+.05*t.target.width+"px",this.imgStyle.top=t.wheelDelta>0?t.target.offsetTop-.05*t.target.height+"px":t.target.offsetTop+.05*t.target.height+"px",this.imgStyle=c(c({},this.imgStyle),{},{"max-height":"none"}),t.preventDefault()},_initImgStyle:function(){this.imgStyle=c(c({},this.imgStyle),{},{position:"absolute",display:"block"})}},computed:{}},d=(n(543),n(13)),component=Object(d.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"img-view-box"},[n("img",{style:t.imgStyle,attrs:{src:t.imgInfo.picList[t.imgInfo.currentIndex].url,alt:""},on:{mousedown:function(e){return t._handleMd(e)},mousemove:function(e){return t._handleMm(e)},mousewheel:function(e){return t._handleWheel(e)}}}),t._v(" "),n("div",{staticClass:"operation-bar"},[t.imgInfo.picList&&t.imgInfo.picList.length>1?n("el-button",{attrs:{type:"primary",size:"small",disabled:0===t.imgInfo.currentIndex},on:{click:t.prePic}},[t._v("上一张")]):t._e(),t._v(" "),t.imgInfo.picList&&t.imgInfo.picList.length>1?n("el-button",{attrs:{type:"primary",size:"small",disabled:t.imgInfo.currentIndex===t.imgInfo.picList.length-1},on:{click:t.nextPic}},[t._v("下一张")]):t._e(),t._v(" "),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:t.handleCancelClick}},[t._v("关闭")])],1)])}),[],!1,null,"4b086663",null);e.a=component.exports},456:function(t,e,n){"use strict";n(55),n(28),n(40),n(67),n(68);var o=n(24),r=(n(54),n(403)),l=n(228);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={components:{AuthImg:r.a},props:["imgInfo"],data:function(){return{src:"",imgStyle:{height:""},imgMoveLock:!0,mouseAt:{X:0,Y:0}}},mounted:function(){window.addEventListener("mouseup",this._handleMu),window.addEventListener("keydown",this._handleKd),this.getSrcData()},destroyed:function(){window.removeEventListener("mouseup",this._handleMu),window.removeEventListener("keydown",this._handleKd)},methods:{prePic:function(){this.imgInfo.currentIndex--,this.getSrcData()},nextPic:function(){this.imgInfo.currentIndex++,this.getSrcData()},getSrcData:function(){var t=this;if(this.imgInfo.normal)this.src=this.imgInfo.picList[this.imgInfo.currentIndex].url;else{var e=this.imgInfo.picList[this.imgInfo.currentIndex].url.replace("http://192.168.1.200:80","");l.a.getImgData(e).then((function(data){t.src=data}))}},handleCancelClick:function(){this.imgInfo.show=!1,this.imgInfo.handlCancleEvent&&this.imgInfo.handlCancleEvent()},_handleKd:function(t){38===t.keyCode&&this.imgInfo.currentIndex>0&&this.imgInfo.currentIndex--,40===t.keyCode&&this.imgInfo.currentIndex<this.imgInfo.picList.length-1&&this.imgInfo.currentIndex++,27===t.keyCode&&this.handleCancelClick()},_handleMd:function(t){this.imgMoveLock=!1,this.mouseAt={X:t.pageX-t.target.offsetLeft,Y:t.pageY-t.target.offsetTop},t.preventDefault()},_handleMu:function(t){this.imgMoveLock=!0,t.preventDefault()},_handleMm:function(t){this.imgMoveLock||(this._initImgStyle(),this.imgStyle.left=t.pageX-this.mouseAt.X+"px",this.imgStyle.top=t.pageY-this.mouseAt.Y+"px",t.preventDefault())},_handleWheel:function(t){this._initImgStyle(),this.imgStyle.height=t.wheelDelta>0?1.1*t.target.height+"px":.9*t.target.height+"px",this.imgStyle.left=t.wheelDelta>0?t.target.offsetLeft-.05*t.target.width+"px":t.target.offsetLeft+.05*t.target.width+"px",this.imgStyle.top=t.wheelDelta>0?t.target.offsetTop-.05*t.target.height+"px":t.target.offsetTop+.05*t.target.height+"px",this.imgStyle=h(h({},this.imgStyle),{},{"max-height":"none"}),t.preventDefault()},_initImgStyle:function(){this.imgStyle=h(h({},this.imgStyle),{},{position:"absolute",display:"block"})}},computed:{}},f=(n(545),n(13)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"img-view-box"},[n("img",{style:t.imgStyle,attrs:{src:t.src,alt:""},on:{mousedown:function(e){return t._handleMd(e)},mousemove:function(e){return t._handleMm(e)},mousewheel:function(e){return t._handleWheel(e)}}}),t._v(" "),n("div",{staticClass:"operation-bar"},[t.imgInfo.picList&&t.imgInfo.picList.length>1?n("el-button",{attrs:{type:"primary",size:"small",disabled:0===t.imgInfo.currentIndex},on:{click:t.prePic}},[t._v("上一张")]):t._e(),t._v(" "),t.imgInfo.picList&&t.imgInfo.picList.length>1?n("el-button",{attrs:{type:"primary",size:"small",disabled:t.imgInfo.currentIndex===t.imgInfo.picList.length-1},on:{click:t.nextPic}},[t._v("下一张")]):t._e(),t._v(" "),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:t.handleCancelClick}},[t._v("关闭")])],1)])}),[],!1,null,"43d0679a",null);e.a=component.exports},457:function(t,e,n){"use strict";var o={props:["picList","handleClickImg"],components:{AuthImg:n(403).a},data:function(){return{}},mounted:function(){},destroyed:function(){},methods:{},computed:{}},r=(n(547),n(13)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"img-list-view-box"},t._l(t.picList,(function(e,i){return n("div",{key:i,on:{click:function(e){return t.handleClickImg(e,i)}}},[n("img",{attrs:{src:e.url}})])})),0)}),[],!1,null,"59e8f290",null);e.a=component.exports},540:function(t,e,n){var o=n(5);o(o.S,"Number",{isNaN:function(t){return t!=t}})},541:function(t,e,n){"use strict";n(443)},542:function(t,e,n){var o=n(21)(!1);o.push([t.i,".content[data-v-58bd971f]{font-size:16px;line-height:25px}",""]),t.exports=o},543:function(t,e,n){"use strict";n(444)},544:function(t,e,n){var o=n(21)(!1);o.push([t.i,".img-view-box[data-v-4b086663]{position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.8);transition:all .5s;text-align:center;overflow:hidden;z-index:99}.operation-bar[data-v-4b086663]{position:absolute;right:30px;top:30px}.img-view-box>img[data-v-4b086663]{max-height:100%;cursor:move}",""]),t.exports=o},545:function(t,e,n){"use strict";n(445)},546:function(t,e,n){var o=n(21)(!1);o.push([t.i,".img-view-box[data-v-43d0679a]{position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.8);transition:all .5s;text-align:center;overflow:hidden;z-index:99}.operation-bar[data-v-43d0679a]{position:absolute;right:30px;top:30px}.img-view-box>img[data-v-43d0679a]{max-height:100%;cursor:move}",""]),t.exports=o},547:function(t,e,n){"use strict";n(446)},548:function(t,e,n){var o=n(21)(!1);o.push([t.i,'.img-list-view-box[data-v-59e8f290]{width:100%;height:100%;position:relative;box-sizing:border-box;background:hsla(0,0%,77.6%,.77647);border:2px solid #333}.img-list-view-box[data-v-59e8f290]:before{content:"";box-sizing:border-box;position:absolute;left:33.3%;height:100%;width:33.3%;border-left:1px solid #333;border-right:1px solid #333}.img-list-view-box[data-v-59e8f290]:after{content:"";box-sizing:border-box;position:absolute;left:0;top:33.3%;height:33.3%;width:100%;border-top:1px solid #333;border-bottom:1px solid #333;z-index:0}.img-list-view-box div[data-v-59e8f290]{width:33.3%;height:33.3%;box-sizing:border-box;position:relative;float:left;z-index:1}.img-list-view-box>div[data-v-59e8f290]:nth-child(3n+2){padding-left:0;padding-right:0;width:33.4%}.img-list-view-box>div[data-v-59e8f290]:nth-child(4),.img-list-view-box>div[data-v-59e8f290]:nth-child(5),.img-list-view-box>div[data-v-59e8f290]:nth-child(6){padding-top:0;padding-bottom:0;height:33.4%}.img-list-view-box div img[data-v-59e8f290]{width:100%;height:100%;box-sizing:border-box;cursor:pointer}.img-list-view-box div img[data-v-59e8f290]:hover{border:1px solid orange}',""]),t.exports=o}}]);