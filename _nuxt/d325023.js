(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{468:function(t,e,o){"use strict";o(43);e.a={data:function(){return{table:{data:[],columns:[],sort:[]},page:{currentPage:1,pageSizes:[2,10,20,30,50],pageSize:10,total:0,layout:"total, sizes, prev, pager, next, jumper",show:!1},tableDataAll:[]}},created:function(){},methods:{resetPage:function(t){this.page.currentPage=1,this.page.pageSize=10,!0!==t&&this.getTableData()},sortChange:function(t){this.table.sort=t,console.log(t)},pageChange:function(t){this.page.currentPage=t,this.setTableData&&this.setTableData()},sizeChange:function(t){this.page.pageSize=t,this.page.currentPage=1,this.setTableData&&this.setTableData()},initPagination:function(){this.page.total=this.tableDataAll.length,this.page.currentPage=1,this.setTableData&&this.setTableData(),0==this.page.total&&this.$message.error("暂无数据")},setTableData:function(){var t=this;console.log(this.page),this.table.data=[],this.table.data=this.tableDataAll.filter((function(e,i){return i>=(t.page.currentPage-1)*t.page.pageSize&&i<t.page.currentPage*t.page.pageSize}))}}}},531:function(t,e,o){var content=o(600);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(23).default)("517b3c50",content,!0,{sourceMap:!1})},599:function(t,e,o){"use strict";o(531)},600:function(t,e,o){var n=o(22)(!1);n.push([t.i,".pagination[data-v-17c797a2]{text-align:right;margin-top:20px}",""]),t.exports=n},622:function(t,e,o){"use strict";o.r(e);var n=o(468),l=o(85),r={layout:"admin",mixins:[n.a,l.a],components:{},data:function(){return{title:"班级管理",dialogInfo:[],status:0}},mounted:function(){this.getClassData()},methods:{getClassData:function(){var t=this;this.$store.commit("admin/CHANGE_LOADING"),this.$store.dispatch("teacher/GET_CLASS_BY_TEACHER",{data:{},cb:function(e){console.log(e.data),t.table.columns=[{prop:"name",label:"班级名",sortable:!1},{prop:"peopleAmount",label:"学生人数",sortable:!1}],t.status=0,e.succ&&(t.table.data=e.data),t.$store.commit("admin/CHANGE_LOADING")}})},getStudentByClassId:function(t){var e=this;this.$store.commit("admin/CHANGE_LOADING"),this.$store.dispatch("teacher/GET_STUDENT_BY_CLASSID",{data:{id:t},cb:function(t){e.table.columns=[{prop:"code",label:"学号",sortable:!1},{prop:"name",label:"姓名",sortable:!1}],e.status=1,t.succ&&(e.table.data=t.data),e.$store.commit("admin/CHANGE_LOADING")}})}},computed:{}},c=(o(599),o(10)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"admin-page"},[o("div",{staticClass:"top"},[o("span",{staticClass:"title"},[t._v(t._s(t.title))])]),t._v(" "),o("div",{staticClass:"action-bar"},[1===t.status?o("span",{on:{click:t.getClassData}},[t._v(" ← 返回查看班级信息")]):t._e()]),t._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table.data,border:"","max-height":t.DcSize.height-230},on:{"sort-change":t.sortChange}},[t._l(t.table.columns,(function(t,i){return o("el-table-column",{key:i,attrs:{prop:t.prop,label:t.label,width:t.width,"min-width":t.minWidth,fixed:t.fixed,sortable:t.sortable}})})),t._v(" "),1===t.status?o("el-table-column",{attrs:{label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(1===e.row.sex?"男":0===e.row.sex?"女":"-")+"\n        ")]}}],null,!1,773685973)}):t._e(),t._v(" "),0===t.status?o("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return t.getStudentByClassId(e.row.id)}}},[t._v("查看学生")])]}}],null,!1,1072019617)}):t._e()],2),t._v(" "),t.dialogInfo.show?o("el-dialog",{attrs:{title:t.dialogInfo.title,visible:t.dialogInfo.show,width:t.dialogInfo.width},on:{"update:visible":function(e){return t.$set(t.dialogInfo,"show",e)}}},[o(t.dialogInfo.com,{ref:"dialogBox",tag:"component",attrs:{data:t.dialogInfo.data}}),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogInfo.show=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.dialogBox.onOk()}}},[t._v("确 定")])],1)],1):t._e(),t._v(" "),o("el-confrim",{attrs:{confrimInfo:t.confrimInfo}})],1)}),[],!1,null,"17c797a2",null);e.default=component.exports}}]);